<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Droplet Platform API: sp_driver.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../DropletLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Droplet Platform API
   </div>
   <div id="projectbrief">API for the Droplet swarm robotic platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sp_driver.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>XMEGA Self-programming driver header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br />
</div>
<p><a href="../../d8/dc4/sp__driver_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a861f2edbb59b39aecaa4e2e419848041"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a861f2edbb59b39aecaa4e2e419848041">SP_ReadByte</a> (uint32_t address)</td></tr>
<tr class="memdesc:a861f2edbb59b39aecaa4e2e419848041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a byte from flash.  <a href="#a861f2edbb59b39aecaa4e2e419848041">More...</a><br /></td></tr>
<tr class="separator:a861f2edbb59b39aecaa4e2e419848041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dcbd30344e9245c57ba8545a949c77e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a4dcbd30344e9245c57ba8545a949c77e">SP_ReadWord</a> (uint32_t address)</td></tr>
<tr class="memdesc:a4dcbd30344e9245c57ba8545a949c77e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a word from flash.  <a href="#a4dcbd30344e9245c57ba8545a949c77e">More...</a><br /></td></tr>
<tr class="separator:a4dcbd30344e9245c57ba8545a949c77e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc2ef603c461cd65a0fd08b2d97d78c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#abcc2ef603c461cd65a0fd08b2d97d78c">SP_ReadCalibrationByte</a> (uint8_t index)</td></tr>
<tr class="memdesc:abcc2ef603c461cd65a0fd08b2d97d78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read calibration byte at given index.  <a href="#abcc2ef603c461cd65a0fd08b2d97d78c">More...</a><br /></td></tr>
<tr class="separator:abcc2ef603c461cd65a0fd08b2d97d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a028b313c0219dff97ee0b8ee826ad578"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a028b313c0219dff97ee0b8ee826ad578">SP_ReadFuseByte</a> (uint8_t index)</td></tr>
<tr class="memdesc:a028b313c0219dff97ee0b8ee826ad578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read fuse byte from given index.  <a href="#a028b313c0219dff97ee0b8ee826ad578">More...</a><br /></td></tr>
<tr class="separator:a028b313c0219dff97ee0b8ee826ad578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70340a21824f27957af2ed59300b7a4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a70340a21824f27957af2ed59300b7a4a">SP_WriteLockBits</a> (uint8_t data)</td></tr>
<tr class="memdesc:a70340a21824f27957af2ed59300b7a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write lock bits.  <a href="#a70340a21824f27957af2ed59300b7a4a">More...</a><br /></td></tr>
<tr class="separator:a70340a21824f27957af2ed59300b7a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8eca47d5ffc611e4973bd6623b3c19"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a9b8eca47d5ffc611e4973bd6623b3c19">SP_ReadLockBits</a> (void)</td></tr>
<tr class="memdesc:a9b8eca47d5ffc611e4973bd6623b3c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read lock bits.  <a href="#a9b8eca47d5ffc611e4973bd6623b3c19">More...</a><br /></td></tr>
<tr class="separator:a9b8eca47d5ffc611e4973bd6623b3c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79a6d78a9af76ffa62e2dccfcc5c1b4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#ab79a6d78a9af76ffa62e2dccfcc5c1b4">SP_ReadUserSignatureByte</a> (uint16_t index)</td></tr>
<tr class="memdesc:ab79a6d78a9af76ffa62e2dccfcc5c1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read user signature at given index.  <a href="#ab79a6d78a9af76ffa62e2dccfcc5c1b4">More...</a><br /></td></tr>
<tr class="separator:ab79a6d78a9af76ffa62e2dccfcc5c1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99150fdc460f2149d61bccabece890f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#ac99150fdc460f2149d61bccabece890f">SP_EraseUserSignatureRow</a> (void)</td></tr>
<tr class="memdesc:ac99150fdc460f2149d61bccabece890f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase user signature row.  <a href="#ac99150fdc460f2149d61bccabece890f">More...</a><br /></td></tr>
<tr class="separator:ac99150fdc460f2149d61bccabece890f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660b4581eeefe19b3f0d80989abeaa39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a660b4581eeefe19b3f0d80989abeaa39">SP_WriteUserSignatureRow</a> (void)</td></tr>
<tr class="memdesc:a660b4581eeefe19b3f0d80989abeaa39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write user signature row.  <a href="#a660b4581eeefe19b3f0d80989abeaa39">More...</a><br /></td></tr>
<tr class="separator:a660b4581eeefe19b3f0d80989abeaa39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebac0543ec938aa54e0ec412518ea35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a8ebac0543ec938aa54e0ec412518ea35">SP_EraseApplicationSection</a> (void)</td></tr>
<tr class="memdesc:a8ebac0543ec938aa54e0ec412518ea35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase entire application section.  <a href="#a8ebac0543ec938aa54e0ec412518ea35">More...</a><br /></td></tr>
<tr class="separator:a8ebac0543ec938aa54e0ec412518ea35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa236da5a509d82a611c4a4ce402f812d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#aa236da5a509d82a611c4a4ce402f812d">SP_EraseApplicationPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:aa236da5a509d82a611c4a4ce402f812d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase page at byte address in application or application table section.  <a href="#aa236da5a509d82a611c4a4ce402f812d">More...</a><br /></td></tr>
<tr class="separator:aa236da5a509d82a611c4a4ce402f812d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51aea1f2853f936d1f8b7c78f807599b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a51aea1f2853f936d1f8b7c78f807599b">SP_EraseWriteApplicationPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:a51aea1f2853f936d1f8b7c78f807599b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase and write page buffer to application or application table section at byte address.  <a href="#a51aea1f2853f936d1f8b7c78f807599b">More...</a><br /></td></tr>
<tr class="separator:a51aea1f2853f936d1f8b7c78f807599b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fd220e37969fe8f9000c51aee3766b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a73fd220e37969fe8f9000c51aee3766b">SP_WriteApplicationPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:a73fd220e37969fe8f9000c51aee3766b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write page buffer to application or application table section at byte address.  <a href="#a73fd220e37969fe8f9000c51aee3766b">More...</a><br /></td></tr>
<tr class="separator:a73fd220e37969fe8f9000c51aee3766b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6885c758d6ab15ff642d61c410d900b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#ae6885c758d6ab15ff642d61c410d900b">SP_LoadFlashWord</a> (uint16_t address, uint16_t data)</td></tr>
<tr class="memdesc:ae6885c758d6ab15ff642d61c410d900b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load one word into Flash page buffer.  <a href="#ae6885c758d6ab15ff642d61c410d900b">More...</a><br /></td></tr>
<tr class="separator:ae6885c758d6ab15ff642d61c410d900b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee74fd6350479ede6fd43e8f6e907d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a6ee74fd6350479ede6fd43e8f6e907d5">SP_LoadFlashPage</a> (const uint8_t *data)</td></tr>
<tr class="memdesc:a6ee74fd6350479ede6fd43e8f6e907d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load entire page from SRAM buffer into Flash page buffer.  <a href="#a6ee74fd6350479ede6fd43e8f6e907d5">More...</a><br /></td></tr>
<tr class="separator:a6ee74fd6350479ede6fd43e8f6e907d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289939190650886f1875c31e39fefdb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a289939190650886f1875c31e39fefdb1">SP_ReadFlashPage</a> (const uint8_t *data, uint32_t address)</td></tr>
<tr class="memdesc:a289939190650886f1875c31e39fefdb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read entire Flash page into SRAM buffer.  <a href="#a289939190650886f1875c31e39fefdb1">More...</a><br /></td></tr>
<tr class="separator:a289939190650886f1875c31e39fefdb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74a9476a4b9f347b9daf12c2f46141f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#aa74a9476a4b9f347b9daf12c2f46141f">SP_EraseFlashBuffer</a> (void)</td></tr>
<tr class="memdesc:aa74a9476a4b9f347b9daf12c2f46141f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush Flash page buffer.  <a href="#aa74a9476a4b9f347b9daf12c2f46141f">More...</a><br /></td></tr>
<tr class="separator:aa74a9476a4b9f347b9daf12c2f46141f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871749d5045b368d9d901e51dceb8ca8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a871749d5045b368d9d901e51dceb8ca8">SP_EraseBootPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:a871749d5045b368d9d901e51dceb8ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase page at byte address in boot section.  <a href="#a871749d5045b368d9d901e51dceb8ca8">More...</a><br /></td></tr>
<tr class="separator:a871749d5045b368d9d901e51dceb8ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb70c7a63522cbf39cfb3b9cd9afcbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#adbb70c7a63522cbf39cfb3b9cd9afcbc">SP_EraseWriteBootPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:adbb70c7a63522cbf39cfb3b9cd9afcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase and write page buffer to boot section at byte address.  <a href="#adbb70c7a63522cbf39cfb3b9cd9afcbc">More...</a><br /></td></tr>
<tr class="separator:adbb70c7a63522cbf39cfb3b9cd9afcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee128140615cf5639876e2efe7d8595"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#afee128140615cf5639876e2efe7d8595">SP_WriteBootPage</a> (uint32_t address)</td></tr>
<tr class="memdesc:afee128140615cf5639876e2efe7d8595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write page buffer to boot section at byte address.  <a href="#afee128140615cf5639876e2efe7d8595">More...</a><br /></td></tr>
<tr class="separator:afee128140615cf5639876e2efe7d8595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e556f84f34b0406599d7d8fd5c1953"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a00e556f84f34b0406599d7d8fd5c1953">SP_ApplicationCRC</a> (void)</td></tr>
<tr class="memdesc:a00e556f84f34b0406599d7d8fd5c1953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate CRC from application section.  <a href="#a00e556f84f34b0406599d7d8fd5c1953">More...</a><br /></td></tr>
<tr class="separator:a00e556f84f34b0406599d7d8fd5c1953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426f0237e39b43bb8e59412496d14cbb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a426f0237e39b43bb8e59412496d14cbb">SP_BootCRC</a> (void)</td></tr>
<tr class="memdesc:a426f0237e39b43bb8e59412496d14cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate CRC from boot section.  <a href="#a426f0237e39b43bb8e59412496d14cbb">More...</a><br /></td></tr>
<tr class="separator:a426f0237e39b43bb8e59412496d14cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999ae14f2a363cb4bcc06a4df180d0da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#a999ae14f2a363cb4bcc06a4df180d0da">SP_LockSPM</a> (void)</td></tr>
<tr class="memdesc:a999ae14f2a363cb4bcc06a4df180d0da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock SPM instruction.  <a href="#a999ae14f2a363cb4bcc06a4df180d0da">More...</a><br /></td></tr>
<tr class="separator:a999ae14f2a363cb4bcc06a4df180d0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa972c2c5f7d4393c945a851401c09718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc4/sp__driver_8h.html#aa972c2c5f7d4393c945a851401c09718">SP_WaitForSPM</a> (void)</td></tr>
<tr class="memdesc:aa972c2c5f7d4393c945a851401c09718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for SPM to finish.  <a href="#aa972c2c5f7d4393c945a851401c09718">More...</a><br /></td></tr>
<tr class="separator:aa972c2c5f7d4393c945a851401c09718"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>XMEGA Self-programming driver header file. </p>
<p>This file contains the function prototypes for the XMEGA Self-programming driver. If any SPM instructions are used, the linker file must define a segment named BOOT which must be located in the device boot section.</p>
<pre class="fragment"> None of these functions clean up the NVM Command Register after use.
 It is therefore important to write NVMCMD_NO_OPERATION (0x00) to this
 register when you are finished using any of the functions in this driver.

 For all functions, it is important that no interrupt handlers
 perform any NVM operations. The user must implement a scheme for mutually
 exclusive access to the NVM. However, the 4-cycle timeout will work fine,
 since writing to the Configuration Change Protection register (CCP)
 automatically disables interrupts for 4 instruction cycles.
</pre><dl class="section user"><dt>Application note:</dt><dd>AVR1316: XMEGA Self-programming</dd></dl>
<dl class="section user"><dt>Documentation</dt><dd>For comprehensive code documentation, supported compilers, compiler settings and supported devices see readme.html</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br />
 Support email: <a href="#" onclick="location.href='mai'+'lto:'+'avr'+'@a'+'tme'+'l.'+'com'; return false;">avr@a<span style="display: none;">.nosp@m.</span>tmel<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>1691 </dd></dl>
<dl class="section rcs"><dt>Date</dt><dd>2008-07-29 13:25:40 +0200 (ti, 29 jul 2008) </dd></dl>
<p><br />
 Copyright (c) 2008, Atmel Corporation All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>The name of ATMEL may not be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>

<p>Definition in file <a class="el" href="../../d8/dc4/sp__driver_8h_source.html">sp_driver.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a00e556f84f34b0406599d7d8fd5c1953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SP_ApplicationCRC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate CRC from application section. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">24-bit</td><td>CRC value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a426f0237e39b43bb8e59412496d14cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SP_BootCRC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate CRC from boot section. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">24-bit</td><td>CRC value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa236da5a509d82a611c4a4ce402f812d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseApplicationPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase page at byte address in application or application table section. </p>
<p>This function erase one page given by the byte address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ebac0543ec938aa54e0ec412518ea35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseApplicationSection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase entire application section. </p>
<p>This function erases the entire application and application table section</p>
<dl class="section note"><dt>Note</dt><dd>If the lock bits is set to not allow spm in the application or application table section the erase is not done. </dd></dl>

</div>
</div>
<a class="anchor" id="a871749d5045b368d9d901e51dceb8ca8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseBootPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase page at byte address in boot section. </p>
<p>This function erase one page given by the byte address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa74a9476a4b9f347b9daf12c2f46141f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseFlashBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush Flash page buffer. </p>
<p>This function flush the Flash page buffer. </p>

</div>
</div>
<a class="anchor" id="ac99150fdc460f2149d61bccabece890f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseUserSignatureRow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase user signature row. </p>
<p>This function erase the entire user signature row. </p>

</div>
</div>
<a class="anchor" id="a51aea1f2853f936d1f8b7c78f807599b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseWriteApplicationPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase and write page buffer to application or application table section at byte address. </p>
<p>This function does a combined erase and write to a flash page in the application or application table section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adbb70c7a63522cbf39cfb3b9cd9afcbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_EraseWriteBootPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase and write page buffer to boot section at byte address. </p>
<p>This function does a combined erase and write to a flash page in the boot section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6ee74fd6350479ede6fd43e8f6e907d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_LoadFlashPage </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load entire page from SRAM buffer into Flash page buffer. </p>
<p>This function load an entire page from SRAM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to the data to put in buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The __near keyword limits the pointer to two bytes which means that only data up to 64K (internal SRAM) can be used. </dd></dl>

</div>
</div>
<a class="anchor" id="ae6885c758d6ab15ff642d61c410d900b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_LoadFlashWord </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load one word into Flash page buffer. </p>
<p>This function Loads one word into the Flash page buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Position in inside the flash page buffer. </td></tr>
    <tr><td class="paramname">data</td><td>Value to be put into the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a999ae14f2a363cb4bcc06a4df180d0da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_LockSPM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock SPM instruction. </p>
<p>This function locks the SPM instruction, and will disable the use of SPM until the next reset occurs. </p>

</div>
</div>
<a class="anchor" id="a861f2edbb59b39aecaa4e2e419848041"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SP_ReadByte </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a byte from flash. </p>
<p>This function reads one byte from the flash.</p>
<dl class="section note"><dt>Note</dt><dd>Both IAR and GCC have functions to do this, but we include the fucntions for easier use.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address to the location of the byte to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Byte</td><td>read from flash. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abcc2ef603c461cd65a0fd08b2d97d78c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SP_ReadCalibrationByte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read calibration byte at given index. </p>
<p>This function reads one calibration byte from the Calibration signature row.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the byte in the calibration signature row.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Calibration</td><td>byte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a289939190650886f1875c31e39fefdb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_ReadFlashPage </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read entire Flash page into SRAM buffer. </p>
<p>This function reads an entire flash page and puts it to SRAM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to where to store the data. </td></tr>
    <tr><td class="paramname">address</td><td>Address to page to read from flash. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a028b313c0219dff97ee0b8ee826ad578"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SP_ReadFuseByte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read fuse byte from given index. </p>
<p>This function reads the fuse byte at the given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the fuse byte.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Fuse</td><td>byte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b8eca47d5ffc611e4973bd6623b3c19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SP_ReadLockBits </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read lock bits. </p>
<p>This function reads the lock bits.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Lock</td><td>bits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab79a6d78a9af76ffa62e2dccfcc5c1b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SP_ReadUserSignatureByte </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read user signature at given index. </p>
<p>This function reads one byte from the user signature row.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the byte in the user signature row.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">User</td><td>signature byte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4dcbd30344e9245c57ba8545a949c77e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t SP_ReadWord </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a word from flash. </p>
<p>This function reads one word from the flash.</p>
<dl class="section note"><dt>Note</dt><dd>Both IAR and GCC have functions to do this automatically, but we include the fucntions for easier use.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address to the location of the word to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">word</td><td>read from flash. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa972c2c5f7d4393c945a851401c09718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_WaitForSPM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for SPM to finish. </p>
<p>This routine waits for the SPM to finish and clears the command register. </p>

</div>
</div>
<a class="anchor" id="a73fd220e37969fe8f9000c51aee3766b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_WriteApplicationPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write page buffer to application or application table section at byte address. </p>
<p>This function writes the Flash page buffer to a page in the application or application table section given by the byte address.</p>
<dl class="section note"><dt>Note</dt><dd>The page that is written to must be erased before it is written to.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afee128140615cf5639876e2efe7d8595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_WriteBootPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write page buffer to boot section at byte address. </p>
<p>This function writes the Flash page buffer to a page in the boot section given by the byte address.</p>
<dl class="section note"><dt>Note</dt><dd>The page that is written to must be erased before it is written to.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Byte address for flash page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a70340a21824f27957af2ed59300b7a4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_WriteLockBits </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write lock bits. </p>
<p>This function changes the lock bits.</p>
<dl class="section note"><dt>Note</dt><dd>It is only possible to change the lock bits to a higher security level.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The new value of the lock bits. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a660b4581eeefe19b3f0d80989abeaa39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SP_WriteUserSignatureRow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write user signature row. </p>
<p>This function write the flash buffer in the user signature row. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 14 2014 11:34:42 for Droplet Platform API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
