<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Droplet Platform API: flash_api.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../DropletLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Droplet Platform API
   </div>
   <div id="projectbrief">API for the Droplet swarm robotic platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">flash_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Code for reading and writing to flash memory directly.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
<code>#include &lt;util/atomic.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dc4/sp__driver_8h_source.html">sp_driver.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/de7/eeprom__driver_8h_source.html">eeprom_driver.h</a>&quot;</code><br />
</div>
<p><a href="../../dd/d3e/flash__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4cc14e2c99ae7f8e5a8e371d03c8532c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cc14e2c99ae7f8e5a8e371d03c8532c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_PAGE_SIZE</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a4cc14e2c99ae7f8e5a8e371d03c8532c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8f8893e9758ea3707f29c05eae3a99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f8f8893e9758ea3707f29c05eae3a99"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_FWORD_SIZE</b>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a8f8f8893e9758ea3707f29c05eae3a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcafe69fcce07e055ef92c2b9cce55a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcafe69fcce07e055ef92c2b9cce55a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FRAZIONI_DI_PAGINA_FLASH</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:afcafe69fcce07e055ef92c2b9cce55a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a4aa9445f7f309cf6bc40255322b21"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44a4aa9445f7f309cf6bc40255322b21"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_PAGE_NUMBER</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a44a4aa9445f7f309cf6bc40255322b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83ceaf99dd5feac53724a941d9ed092"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab83ceaf99dd5feac53724a941d9ed092"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_PAGE_NUMBER</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ab83ceaf99dd5feac53724a941d9ed092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2313420e1599d43885ea5a60c6f3bf7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2313420e1599d43885ea5a60c6f3bf7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IMX_MAX</b>&#160;&#160;&#160;20</td></tr>
<tr class="separator:af2313420e1599d43885ea5a60c6f3bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae5e933c0d2fd294c1daa1a7c3bfcc4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ae5e933c0d2fd294c1daa1a7c3bfcc4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAGE_TRUE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a0ae5e933c0d2fd294c1daa1a7c3bfcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7716553fc9cecf3bf983c7b0d00a81a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7716553fc9cecf3bf983c7b0d00a81a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAGE_FALSE</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7716553fc9cecf3bf983c7b0d00a81a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b4e293fa536307d215f8b9e9125537"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#a01b4e293fa536307d215f8b9e9125537">NVM_EXEC</a>()</td></tr>
<tr class="memdesc:a01b4e293fa536307d215f8b9e9125537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-Volatile Memory Execute Command.  <a href="#a01b4e293fa536307d215f8b9e9125537">More...</a><br /></td></tr>
<tr class="separator:a01b4e293fa536307d215f8b9e9125537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a4f657ab8fb68c6a84ae7c25af618c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69a4f657ab8fb68c6a84ae7c25af618c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XB_SUCCESS</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a69a4f657ab8fb68c6a84ae7c25af618c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c638dfac2ec11f059ab4c34b8ba32f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46c638dfac2ec11f059ab4c34b8ba32f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XB_ERR_NO_API</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a46c638dfac2ec11f059ab4c34b8ba32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa09e6db7a1fc5ebeb616f2c7c5dbe6cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa09e6db7a1fc5ebeb616f2c7c5dbe6cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XB_ERR_NOT_FOUND</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aa09e6db7a1fc5ebeb616f2c7c5dbe6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5e062e2eafdb407f652c6c67d81a58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a5e062e2eafdb407f652c6c67d81a58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XB_INVALID_ADDRESS</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a2a5e062e2eafdb407f652c6c67d81a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6cca46af48cb6fca78462f92bc5367fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cca46af48cb6fca78462f92bc5367fe"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_ReadByte</b> (uint32_t)</td></tr>
<tr class="separator:a6cca46af48cb6fca78462f92bc5367fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b02931ea29c188f0ef99613aea11b1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#a9b02931ea29c188f0ef99613aea11b1a">FLASH_FlushFlasPageBuffer</a> (void)</td></tr>
<tr class="memdesc:a9b02931ea29c188f0ef99613aea11b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush temporary FLASH page buffer.  <a href="#a9b02931ea29c188f0ef99613aea11b1a">More...</a><br /></td></tr>
<tr class="separator:a9b02931ea29c188f0ef99613aea11b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292273938a2318104070bdfa7c986a8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#a292273938a2318104070bdfa7c986a8f">FLASH_LoadFlashPageBuffer</a> (const uint8_t *)</td></tr>
<tr class="memdesc:a292273938a2318104070bdfa7c986a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load entire page into temporary FLASH page buffer.  <a href="#a292273938a2318104070bdfa7c986a8f">More...</a><br /></td></tr>
<tr class="separator:a292273938a2318104070bdfa7c986a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd76fa9f7b193e4ca19fd445b15cc3e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#afd76fa9f7b193e4ca19fd445b15cc3e5">FLASH_EraseApplicationSections</a> (void)</td></tr>
<tr class="memdesc:afd76fa9f7b193e4ca19fd445b15cc3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase entire application section.  <a href="#afd76fa9f7b193e4ca19fd445b15cc3e5">More...</a><br /></td></tr>
<tr class="separator:afd76fa9f7b193e4ca19fd445b15cc3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fc05366ec85b0edd3e8ffb1e1b4f6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#ac5fc05366ec85b0edd3e8ffb1e1b4f6d">FLASH_EraseWriteApplicationPage</a> (uint16_t)</td></tr>
<tr class="memdesc:ac5fc05366ec85b0edd3e8ffb1e1b4f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase and write page buffer to application or application table section at byte address.  <a href="#ac5fc05366ec85b0edd3e8ffb1e1b4f6d">More...</a><br /></td></tr>
<tr class="separator:ac5fc05366ec85b0edd3e8ffb1e1b4f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82de2ed9a02c5051cdcd8bccc74a9caf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82de2ed9a02c5051cdcd8bccc74a9caf"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_ApplicationCRC</b> (void)</td></tr>
<tr class="separator:a82de2ed9a02c5051cdcd8bccc74a9caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c647ec522bbd157036a324c24e0576"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6c647ec522bbd157036a324c24e0576"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_RangeCRC</b> (uint32_t, uint32_t)</td></tr>
<tr class="separator:ad6c647ec522bbd157036a324c24e0576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d40b4918668438b6e2ad9875f42a644"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d3e/flash__api_8h.html#a1d40b4918668438b6e2ad9875f42a644">FLASH_WaitForNVM</a> (void)</td></tr>
<tr class="memdesc:a1d40b4918668438b6e2ad9875f42a644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a byte from flash.  <a href="#a1d40b4918668438b6e2ad9875f42a644">More...</a><br /></td></tr>
<tr class="separator:a1d40b4918668438b6e2ad9875f42a644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b553fc6c28d8299cc52fa2e5c59f788"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b553fc6c28d8299cc52fa2e5c59f788"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_ReadFlashPage</b> (uint8_t *, uint32_t)</td></tr>
<tr class="separator:a1b553fc6c28d8299cc52fa2e5c59f788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3407b653ba717c0c4f254a786d155f14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3407b653ba717c0c4f254a786d155f14"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>binary_search</b> (uint16_t, uint16_t)</td></tr>
<tr class="separator:a3407b653ba717c0c4f254a786d155f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7fb01011463eee9f4ec871b95ca179"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d7fb01011463eee9f4ec871b95ca179"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>flash_compare</b> (uint32_t)</td></tr>
<tr class="separator:a7d7fb01011463eee9f4ec871b95ca179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc8212e11680c8126d3d3f449cf34bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dc8212e11680c8126d3d3f449cf34bd"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>midpoint</b> (uint16_t, uint16_t)</td></tr>
<tr class="separator:a5dc8212e11680c8126d3d3f449cf34bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dcf972e04bc4780aaf168db7f32145"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96dcf972e04bc4780aaf168db7f32145"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>write_user_signature_row</b> (uint8_t *data)</td></tr>
<tr class="separator:a96dcf972e04bc4780aaf168db7f32145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1ca227c7d726bb6ff3b3048ccd08dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c1ca227c7d726bb6ff3b3048ccd08dd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>read_user_signature_byte</b> (uint16_t index)</td></tr>
<tr class="separator:a8c1ca227c7d726bb6ff3b3048ccd08dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6199ae35998af457460cf62641265bcd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6199ae35998af457460cf62641265bcd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>load_flash_page</b> (const uint8_t *data)</td></tr>
<tr class="separator:a6199ae35998af457460cf62641265bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8d56003796122d2328b93ec0dc7f0a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d8d56003796122d2328b93ec0dc7f0a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>erase_write_application_page</b> (uint32_t address)</td></tr>
<tr class="separator:a3d8d56003796122d2328b93ec0dc7f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83303850a223e7543867c2c0dc2d0be0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83303850a223e7543867c2c0dc2d0be0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>erase_flash_buffer</b> ()</td></tr>
<tr class="separator:a83303850a223e7543867c2c0dc2d0be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb078106c6f1192f3e338206d1aa5447"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb078106c6f1192f3e338206d1aa5447"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>read_flash_page</b> (const uint8_t *data, uint32_t address)</td></tr>
<tr class="separator:abb078106c6f1192f3e338206d1aa5447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4beb81a90014f5507d1bf7b7228cae44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4beb81a90014f5507d1bf7b7228cae44"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>erase_application_page</b> (uint32_t address)</td></tr>
<tr class="separator:a4beb81a90014f5507d1bf7b7228cae44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code for reading and writing to flash memory directly. </p>
<p>This file largely derived from the <a href="https://github.com/alexforencich/xboot">xboot</a> project, on GitHub. </p>

<p>Definition in file <a class="el" href="../../dd/d3e/flash__api_8h_source.html">flash_api.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a01b4e293fa536307d215f8b9e9125537"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NVM_EXEC</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">asm</span>(<span class="stringliteral">&quot;push r30&quot;</span>      <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;push r31&quot;</span>      <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;push r16&quot;</span>      <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;push r18&quot;</span>      <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;ldi r30, 0xCB&quot;</span> <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;ldi r31, 0x01&quot;</span> <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;ldi r16, 0xD8&quot;</span> <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;ldi r18, 0x01&quot;</span> <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;out 0x34, r16&quot;</span> <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;st Z, r18&quot;</span>     <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;pop r18&quot;</span>       <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;pop r16&quot;</span>       <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;pop r31&quot;</span>       <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                        <span class="stringliteral">&quot;pop r30&quot;</span>       <span class="stringliteral">&quot;\n\t&quot;</span>  \</div>
<div class="line">                       )</div>
</div><!-- fragment -->
<p>Non-Volatile Memory Execute Command. </p>
<p>This macro set the CCP register before setting the CMDEX bit in the NVM.CTRLA register.</p>
<dl class="section note"><dt>Note</dt><dd>The CMDEX bit must be set within 4 clock cycles after setting the protection byte in the CCP register. </dd></dl>

<p>Definition at line <a class="el" href="../../dd/d3e/flash__api_8h_source.html#l00040">40</a> of file <a class="el" href="../../dd/d3e/flash__api_8h_source.html">flash_api.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afd76fa9f7b193e4ca19fd445b15cc3e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLASH_EraseApplicationSections </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase entire application section. </p>
<p>This function erases the entire application and application table section</p>
<dl class="section note"><dt>Note</dt><dd>If the lock bits is set to not allow spm in the application or application table section the erase is not done. </dd></dl>

<p>Definition at line <a class="el" href="../../de/df0/flash__api_8c_source.html#l00059">59</a> of file <a class="el" href="../../de/df0/flash__api_8c_source.html">flash_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac5fc05366ec85b0edd3e8ffb1e1b4f6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLASH_EraseWriteApplicationPage </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>page_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase and write page buffer to application or application table section at byte address. </p>
<p>This function does a combined erase and write to a flash page in the application or application table section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_number</td><td>Flash page number. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../de/df0/flash__api_8c_source.html#l00079">79</a> of file <a class="el" href="../../de/df0/flash__api_8c_source.html">flash_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9b02931ea29c188f0ef99613aea11b1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLASH_FlushFlasPageBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush temporary FLASH page buffer. </p>
<p>This function flushes the FLASH page buffers. </p>

<p>Definition at line <a class="el" href="../../de/df0/flash__api_8c_source.html#l00008">8</a> of file <a class="el" href="../../de/df0/flash__api_8c_source.html">flash_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="a292273938a2318104070bdfa7c986a8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLASH_LoadFlashPageBuffer </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ram_buffer_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load entire page into temporary FLASH page buffer. </p>
<p>This function loads an entire FLASH page from an SRAM buffer to the FLASH page buffers. Make sure that the buffer is flushed before starting to load bytes.</p>
<dl class="section note"><dt>Note</dt><dd>Only the lower part of the address is used to address the buffer. Therefore, no address parameter is needed. In the end, the data is written to the FLASH page given by the address parameter to the FLASH write page operation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>Pointer to SRAM buffer containing an entire page. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../de/df0/flash__api_8c_source.html#l00030">30</a> of file <a class="el" href="../../de/df0/flash__api_8c_source.html">flash_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1d40b4918668438b6e2ad9875f42a644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLASH_WaitForNVM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a byte from flash. </p>
<p>This function reads one byte from the flash.</p>
<dl class="section note"><dt>Note</dt><dd>Both IAR and GCC have functions to do this, but we include the fucntions for easier use.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address to the location of the byte to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Byte</td><td>read from flash.</td></tr>
  </table>
  </dd>
</dl>
<p>Wait for any NVM access to finish, including FLASH.</p>
<p>This function is blocking and waits for any NVM access to finish, including FLASH. Use this function before any FLSH accesses, if you are not certain that any previous operations are finished yet, like an FLASH write. </p>

<p>Definition at line <a class="el" href="../../de/df0/flash__api_8c_source.html#l00125">125</a> of file <a class="el" href="../../de/df0/flash__api_8c_source.html">flash_api.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 14 2014 11:34:42 for Droplet Platform API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
