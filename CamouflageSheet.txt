Pseudo-code of a single Droplet:
Before each Frame -- 
Find out degree of each Droplet
Each Frame , when it is its slot --
Send out message (the histogram array it stores, its degree, ) with sendHistMsg
Length of Slot: 300ms
Each Frame , when it is not its slot --
Receive messages from other Droplets and store them with handle_msg(ir_msg* msg_struct)  
At the end of the Frame --
Each droplet  computes a new histogram array by doing weighted average with the arrays and degrees it received during the loop and its own.
Length of Idle: 300ms

Procedure of the Consensus on Droplets:
Each droplet has a random RGB value and show the color
Each droplet shares its RGB value with its neighbors at each round
Define the graph, compute the degree of each droplet by counting the number of its neighbors
Compute the histogram it gets from neighbors
Show a different color with the information got


Technical issues:
Define the graph using the droplets’ positions/ just find out who are its neighbors? How?
Share or get information from other droplets using which function? [Something like this: ir_send(ALL_DIRS, (char*)(&msg), sizeof(HistMsg));]
